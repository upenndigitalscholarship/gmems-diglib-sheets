<!doctype html>
<html lang="en" class="h-100">
  <head prefix="og: http://ogp.me/ns#">
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Site Configuration | Global Medieval and Early Modern Digital Library (GMEMS)</title>
<link rel="shortcut icon" type="image/x-icon" href="/gmems-diglib-sheets/favicon.ico">
<!--
  _____     ____        __  _           ___       _ __   __       
 / ___/__  / / /__ ____/ /_(_)__  ___  / _ )__ __(_) /__/ /__ ____
/ /__/ _ \/ / / -_) __/ __/ / _ \/ _ \/ _  / // / / / _  / -_) __/
\___/\___/_/_/\__/\__/\__/_/\___/_//_/____/\_,_/_/_/\_,_/\__/_/   
   
    built with CollectionBuilder-Sheets
    https://github.com/CollectionBuilder/collectionbuilder-sheets
-->
<meta name="generator" content="collectionbuilder-sheets" />
<meta http-equiv="Content-Language" content="en-us" >

<!-- load style sheets -->

<link rel="stylesheet" href="/gmems-diglib-sheets/assets/lib/bootstrap.min.css" type="text/css">




<!-- load custom css last to allow overrides -->
<link rel="stylesheet" href="/gmems-diglib-sheets/assets/css/custom.css" type="text/css">

<meta name="robots" content="noindex">
<meta name="description" content="The Global Medieval and Early Modern Digital Library brings together translations, often accompanied by transcriptions, of primary sources encompassing a wide range of genres, regions and languages from the period between Late Antiquity and 1700. The site allows these sources to be organized by theme, region, language and date.">
<meta name="author" content="upenndigitalscholarship" >
<!-- Open Graph meta -->
<meta property="og:title" content="Site Configuration | Global Medieval and Early Modern Digital Library (GMEMS)" />
<meta property="og:description" content="The Global Medieval and Early Modern Digital Library brings together translations, often accompanied by transcriptions, of primary sources encompassing a wide range of genres, regions and languages from the period between Late Antiquity and 1700. The site allows these sources to be organized by theme, region, language and date." />
<meta property="og:site_name" content="Global Medieval and Early Modern Digital Library (GMEMS)" />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://upenndigitalscholarship.github.io/gmems-diglib-sheets//gmems-diglib-sheets/setup/" />
<meta property="og:locale" content="en_US" />
<!-- schema.org JSON-LD -->
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebPage","headline":"Site Configuration | Global Medieval and Early Modern Digital Library (GMEMS)","publisher":"upenndigitalscholarship","description":"The Global Medieval and Early Modern Digital Library brings together translations, often accompanied by transcriptions, of primary sources encompassing a wide range of genres, regions and languages from the period between Late Antiquity and 1700. The site allows these sources to be organized by theme, region, language and date.","url":"https://upenndigitalscholarship.github.io/gmems-diglib-sheets//gmems-diglib-sheets/setup/"}</script> 


<!-- Analytics --> 



<!-- Last build date: 2022-07-27 -->
  </head>
  <body class="d-flex flex-column h-100">
    <div id="skip-to-content"><a href="#maincontent">Skip to main content</a></div>
    <div class="container">
    <div class="row align-items-center">
        <div id="title" class="col-md-9">
            <h1><a class="text-dark font-weight-normal" href="/gmems-diglib-sheets/" >Global Medieval and Early Modern Digital Library (GMEMS)</a></h1>	 
            <p>Medieval and Early Modern texts from around the globe translated into English.</p>
        </div>
        
        <div class="col-md-3 d-none d-lg-block text-end">
            <a class="btn btn-outline-light" href="https://www.library.upenn.edu/help-with/research-data-digital-scholarship" target="_blank" rel="noopener">
                <img class="img-fluid" src="/gmems-diglib-sheets/assets/img/PennLibrariesLogo2020_BlackRGB.png" title="Center for Research Data and Digital Scholarship, Penn Libraries" alt="Center for Research Data and Digital Scholarship, Penn Libraries home" >
            </a>
        </div>
        
    </div>
</div>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#page-nav" aria-controls="page-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <span class="d-lg-none text-end">
            <a href="https://www.library.upenn.edu/help-with/research-data-digital-scholarship" target="_blank" rel="noopener">
                <img class="img-fluid" id="mobile-nav-image" src="/gmems-diglib-sheets/assets/img/PennLibrariesLogo2020_BlackRGB.png" title="Center for Research Data and Digital Scholarship, Penn Libraries" alt="Center for Research Data and Digital Scholarship, Penn Libraries home" >
            </a>
        </span>
        
        <div class="collapse navbar-collapse" id="page-nav">
            <ul class="navbar-nav me-auto">
                
                <li class="nav-item">
                    <a class="nav-link" href="/gmems-diglib-sheets/">Home</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/gmems-diglib-sheets/browse.html">Browse</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/gmems-diglib-sheets/subjects.html">Subjects</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/gmems-diglib-sheets/locations.html">Locations</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/gmems-diglib-sheets/map.html">Map</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/gmems-diglib-sheets/timeline.html">Timeline</a>
                </li>
                
                <li class="nav-item">
                    <a class="nav-link" href="/gmems-diglib-sheets/data.html">Data</a>
                </li></ul>
            
            <script>
    function site_search() {
        var query = document.getElementById("site-search").value;
        window.open("/gmems-diglib-sheets/search/index.html?q=" + encodeURIComponent(query), "_self" );
    }
</script>
<form class="form-inline my-2 my-lg-0" role="search" id="search" onsubmit="site_search(); return false;">
    <div class="input-group">
        <input id="site-search" class="form-control " type="text" placeholder="Search" aria-label="Search box">
        <button class="btn btn-light" type="submit">
            <span id="search-icon"><svg viewBox="0 0 1024 974" height="16px" width="20px"><path d="M960 832L710.875 582.875C746.438 524.812 768 457.156 768 384 768 171.96900000000005 596 0 384 0 171.969 0 0 171.96900000000005 0 384c0 212 171.969 384 384 384 73.156 0 140.812-21.562 198.875-57L832 960c17.5 17.5 46.5 17.375 64 0l64-64C977.5 878.5 977.5 849.5 960 832zM384 640c-141.375 0-256-114.625-256-256s114.625-256 256-256 256 114.625 256 256S525.375 640 384 640z"/></svg></span>
            <span class="visually-hidden">Search</span>
        </button>
    </div>
</form>
            
        </div>
    </div>
</nav>

    <main id="maincontent" role="main" class="flex-shrink-0">
    <div class="container my-4 page-narrow">
  <h1 id="test-your-metadata">Test Your Metadata</h1>

<div class="alert alert-info feature-alert " role="alert">

<p>This page can temporarily configure the metadata used on the site to test your CollectionBuilder spreadsheet. 
The configurations are stored in your browser’s session storage, so will remain only until you close this window!</p>

<p>Please check the <a href="/gmems-diglib-sheets/metadata.html">Metadata Guidelines page</a> for information about how to create and publish your metadata spreadsheet.</p>

</div>

<p>The currently configured metadata is:</p>
<div id="current-metadata" class="text-center mb-3"></div>

<p>To keep the currently configured metadata, simply navigate to another page!
To change the metadata you have two options: paste in the full link for a CSV hosted online (such as a published Google Sheet) <em>or</em> select a CSV file from your computer.</p>

<div class="card mb-3">
    <div class="card-body">
        <h3>Use Metadata Link</h3>
        <p>
            <form id="metadataUrl" onsubmit="metadata_url_selector(); return false;">
                <div class="input-group">
                    <input type="url" id="csvUrl" class="form-control" placeholder="Paste in the full URL to CSV hosted online" />
                    <div class="input-group-append">
                        <button class="btn btn-dark" type="submit">
                            Submit
                        </button>
                    </div>
                </div>
            </form>
        </p>
    </div>
</div>
<div class="card mt-3">
    <div class="card-body">
        <h3>Use Metadata CSV from Computer</h3>
        <p>
            <form id="metadataFile" onsubmit="metadata_file_selector(); return false;">
                <div class="input-group">
                    <input type="file" accept=".csv" id="csvFile" class="form-control" />
                    <div class="input-group-append">
                        <button class="btn btn-dark" type="submit">
                            Submit
                        </button>
                    </div>
                </div>
            </form>
        </p>
    </div>
</div>

<h2 id="metadata-requirements">Metadata Requirements</h2>

<p>Set up your metadata carefully following the <a href="/gmems-diglib-sheets/metadata.html">template guidelines</a>.
Be especially careful with column names in the first row–they need to exactly match the template, with no spaces and no extra white space at the end of the value.
Records without an “objectid” will be skipped.</p>

<p>Note: no information is sent to the server, the metadata and configuration change is only on your computer.</p>

<h2 id="how-to-publish-your-google-sheet">How to Publish Your Google Sheet</h2>

<ul>
  <li>On your Google Sheet, click “File” and select “Publish to the Web”.</li>
  <li>On the popup modal, use the dropdowns in “Link” tab to select the sheet name of your metadata (usually “Sheet 1”) and “Comma-separated values (.csv)” options, then click “Publish” button.</li>
  <li>Copy the link that is provided.</li>
  <li>Paste the link into form above and click Submit.</li>
</ul>

<p>For example, a published link looks like:</p>

<p><code class="language-plaintext highlighter-rouge">https://docs.google.com/spreadsheets/d/e/2PACX-1vSn7AA-cbsXT3_nNUGftc1ab-CKXOJHMQCIENeR9NHElbyI9_qA99o0-HNZdG04v-M2_N21bUe_krQQ/pub?gid=0&amp;single=true&amp;output=csv</code></p>

<h2 id="how-to-download-your-google-sheet-as-csv">How to Download Your Google Sheet as CSV</h2>

<ul>
  <li>On your Google Sheet, click “File” and select “Download as Comma-separated values”</li>
  <li>The file should download to your computer’s Downloads folder</li>
  <li>Click in the “Choose file” box in the form above and navigate in your file explorer to select the downloaded CSV.</li>
</ul>

<h3 id="other-web-csv">Other Web CSV</h3>

<p>If you have a CSV available anywhere on the web, you can use it by referencing the full URL. 
However, depending on where your CSV is hosted, you may encounter <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS/Errors">CORS errors</a>.</p>

<p>For example, to use a CSV hosted in a GitHub repository, use the “raw” link:</p>

<p><code class="language-plaintext highlighter-rouge">https://raw.githubusercontent.com/CollectionBuilder/collectionbuilder-sample-data/master/psychiana_cbdemo_gh.csv</code></p>

<p>Paste the link into the “Use metadata link” form above and click Submit.</p>

<h3 id="spreadsheet-on-your-local-computer">Spreadsheet on Your Local Computer</h3>

<p>When your CSV is ready, click in the “Choose file” box, navigate in your file explorer to select the CSV, and click Submit.</p>

</div>
    </main>
    <footer class="bg-light pt-4 mt-auto container-fluid">

    <div class="row border-bottom border-white pb-4 mb-2">

        <div class="col-md-7 px-4 mt-2">

            <h4><a href="/gmems-diglib-sheets/" class="text-black font-weight-normal">Global Medieval and Early Modern Digital Library (GMEMS)</a></h4>
            <p class="text-black"><small>Medieval and Early Modern texts from around the globe translated into English.</small></p>
<!--            <nav>
                <ul id="footer-nav" class="nav nav-pills ">
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/gmems-diglib-sheets/">Home</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/gmems-diglib-sheets/browse.html">Browse</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/gmems-diglib-sheets/subjects.html">Subjects</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/gmems-diglib-sheets/locations.html">Locations</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/gmems-diglib-sheets/map.html">Map</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/gmems-diglib-sheets/timeline.html">Timeline</a>
                    </li>
                    <li class="nav-item">
                    
                        <a class="nav-link text-light" href="/gmems-diglib-sheets/data.html">Data</a>
                    </li></ul>
            </nav>
        </div>

        <div class="col-md-5 mt-2 text-end">

            <p class="text-end">
                <a href="https://www.library.upenn.edu/help-with/research-data-digital-scholarship" target="_blank" rel="noopener">
                    <img id="footer-logo" class="img-fluid" src="/gmems-diglib-sheets/assets/img/PennLibrariesLogo2020_BlackRGB.png" alt="Center for Research Data and Digital Scholarship, Penn Libraries home">
                </a>
            </p>
            
            <p class="text-black" id="footer-credits">
                <small><em>built with</em>
                    <a href="https://collectionbuilder.github.io/" target="_blank" rel="noopener" title="CollectionBuilder">
                        <img src="/gmems-diglib-sheets/assets/img/collectionbuilder-logo.png" class="img-fluid" alt="CollectionBuilder logo" >
                    </a>
                </small>
            </p>

        </div>

    </div>

    <div class="col-md-12 text-center pt-3 pb-1">
        <p class="text-black">Last updated 2022</p>
    </div>

</footer>
    <!-- Bootstrap bundle JS -->
<script src="/gmems-diglib-sheets/assets/lib/bootstrap.bundle.min.js"></script>
<!-- load other js -->
<script src="/gmems-diglib-sheets/assets/lib/lazysizes.min.js" async></script>
<script src="/gmems-diglib-sheets/assets/lib/papaparse.min.js"></script>

<script>

    // set variables
    var cb_items = [];
    var config_metadata = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQBf-Kju6JGQkO1ibauCi6tWo3EJuPuPwLELw5o7L7sX-Mr8ZRonQAFbGA4xgOMwOU15KlO3Nh73pC5/pub?gid=1778110557&single=true&output=csv";
    
    // find current configured metadata
    var cb_metadata_set = sessionStorage.getItem("cb_metadata_set") ? sessionStorage.getItem("cb_metadata_set") : config_metadata;
    // display configured metadata
    document.getElementById("current-metadata").innerHTML = cb_metadata_set != "" ? cb_metadata_set : "<span class='text-danger h2'>None!</span>";
    
    // function to parse from forms
    function cb_items_setup(metadata_file) {
      /* use papaparse to get metadata from configured CSV URL, then init page */
      Papa.parse(metadata_file, {
        download: true,
        header: true,
        complete: (results) => { 
          sessionStorage.removeItem("cb_items_store");
          // filter for objectid value
          cb_items = results.data.filter(item => item["objectid"]);
          // add to session storage
          sessionStorage.setItem("cb_items_store", JSON.stringify(cb_items));
          console.log(metadata_file);
          // redirect to home
          window.location.href = "/gmems-diglib-sheets/";
        },
        error: (err) => {
            alert("There is an error parsing your CSV! Please check the configured URL or file.");
        }
      });
    }
    
    // function for metadata local file form
    function metadata_file_selector() {
        // find filename 
        var fileSelector = document.getElementById("csvFile");
        var selectedFile = fileSelector.files[0];
        var selectedFileName = selectedFile.name;
        // record in session store
        sessionStorage.setItem("cb_metadata_set",selectedFileName);
        // give file to papa parse 
        cb_items_setup(selectedFile);
    }
    // function for metadata link form
    function metadata_url_selector() {
        // file url 
        var selectedUrl = document.getElementById("csvUrl").value;
        // record in session store
        sessionStorage.setItem("cb_metadata_set",selectedUrl);
        // give url to papa parse
        cb_items_setup(selectedUrl);
    }
    
    </script>

    <script>
    // When the user scrolls down from the top of the document, show the button
    window.onscroll = function () {
        if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
            document.getElementById("scroll-to-top").style.display = "block";
        } else {
            document.getElementById("scroll-to-top").style.display = "none";
        }
    }
    // scroll to top function
    function scrollToTop() {
        window.scroll({
            top: 0, 
            left: 0, 
            behavior: 'smooth'
        });
    }
</script>
<button id="scroll-to-top" type="button" class="btn btn-link btn-lg" onclick="scrollToTop();" title="Back to Top" aria-label="Back to Top">
    <svg class="bi icon-sprite" role="img" aria-label="Up Arrow">
        <use xlink:href="/gmems-diglib-sheets/assets/lib/cb-icons.svg#icon-back-to-top"/>
    </svg>
</button>

  </body>
</html>